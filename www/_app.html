$routes[
    $.package[^Route::create[packages]]
]
$matcher[^Matcher::create[$routes]]

^dstop[^matcher.match[packages]]


^switch[$form:fields.request]{
    ^case[]{
    }
    ^case[test]{
        $text[1234567890]
        ^dstop[^text.mid(0;^text.length[]-1)]
        $pattern[/hello{id}/kitty/{name}]
        $matches[^pattern.match[{(\w+)}][gi']]
        ^dstop[$matches]
    }
    ^case[hook]{
        $eventType[$request:headers.[X_GITHUB_EVENT]]
        $controller[^HookController::create[]]
        ^controller.chooseActionByType[$eventType]
    }
    ^case[login]{
        $controller[^UserController::create[]]
        ^controller.loginAction[]
    }
    ^case[logout]{
        $controller[^UserController::create[]]
        ^controller.logoutAction[]
    }
    ^case[package]{
        $controller[^PackagesController::create[]]
        ^controller.showAction[]
    }
    ^case[package/add]{
        $controller[^PackagesController::create[]]
        ^controller.addAction[]
    }
    ^case[DEFAULT]{
        ^throw[RouteNotFoundException;; Route for $form:fields.request not found.]
    }

}